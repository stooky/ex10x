---
const navItems = [
	{ href: '/', label: 'Home' },
	{ href: '/blog', label: 'Blog' },
	{ href: '/videos', label: 'Videos' },
	{ href: '/about', label: 'About' },
	{ href: '/book', label: 'Book a Session' },
];

const currentPath = Astro.url.pathname;
---

<header class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-100">
	<nav class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
		<div class="flex items-center justify-between h-16">
			<a href="/" class="text-2xl font-bold text-gray-900 hover:text-gray-700 transition-colors">
				ex10x
			</a>

			<!-- Desktop Navigation -->
			<div class="hidden md:flex items-center space-x-8">
				{navItems.map((item) => (
					<a
						href={item.href}
						class:list={[
							'text-sm font-medium transition-colors',
							currentPath === item.href || (item.href !== '/' && currentPath.startsWith(item.href))
								? 'text-gray-900'
								: 'text-gray-600 hover:text-gray-900'
						]}
					>
						{item.label}
					</a>
				))}
			</div>

			<!-- Mobile Menu Button -->
			<button
				id="mobile-menu-button"
				class="md:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100"
				aria-label="Toggle menu"
			>
				<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
				</svg>
			</button>
		</div>

		<!-- Mobile Navigation -->
		<div id="mobile-menu" class="hidden md:hidden pb-4">
			<div class="flex flex-col space-y-2">
				{navItems.map((item) => (
					<a
						href={item.href}
						class:list={[
							'px-3 py-2 rounded-md text-sm font-medium transition-colors',
							currentPath === item.href || (item.href !== '/' && currentPath.startsWith(item.href))
								? 'bg-gray-100 text-gray-900'
								: 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'
						]}
					>
						{item.label}
					</a>
				))}
			</div>
		</div>
	</nav>
</header>

<script>
	const button = document.getElementById('mobile-menu-button');
	const menu = document.getElementById('mobile-menu');

	button?.addEventListener('click', () => {
		menu?.classList.toggle('hidden');
	});
</script>
